<div class="chatContainer">
  <div class="chatWindow">
    @for ( message of messages(); track message ) {
      <div class="message" [ngClass]="message.sender">
        <div class="messageContent">
          {{ message.content }}
        </div>
        <div class="timestamp">{{ message.timestamp }}</div>
      </div>
    }
  </div>

  <div class="actionPanel">
    <div class="inputGroup">
      <svg class="inputIcon" xmlns="http://www.w3.org/2000/svg" width="1.125rem" height="1.125rem" viewBox="0 0 24 24"
           stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
        <circle cx="12" cy="10" r="3"></circle>
      </svg>
      <input type="text"
             class="inputField"
             placeholder="Location name"
             [value]="locationName()"
             (input)="onInputChange($event, 'locationName')"/>
    </div>

    <div class="inputGroup">
      <svg class="inputIcon" xmlns="http://www.w3.org/2000/svg" width="1.125rem" height="1.125rem" viewBox="0 0 24 24"
           stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
      <input type="number"
             class="inputField"
             placeholder="Day"
             [value]="duration()"
             [min]="1"
             (input)="onInputChange($event, 'duration')"/>
    </div>

    <div class="messageInputGroup">
      @if ( !this.isInitialSearch() ) {
        <input type="text"
               class="messageField"
               placeholder="Customize your tailor-made itinerary ..."
               [value]="userMessage()"
               (input)="onInputChange($event)"
               (keyup.enter)="sendMessage()"/>

        <button class="actionButton" [disabled]="isSearchDisabled()" (click)="resetSelection()">
          <svg width="1.25rem" height="1.25rem" viewBox="0 0 0.4 0.4" xmlns="http://www.w3.org/2000/svg">
            <path fill="currentColor" d="m0.374 0.2 0.003 0a0.025 0.025 0 0 1 0.021 0.028 0.2 0.2 0 0 1 -0.334 0.118l-0.021 0.021c-0.016 0.016 -0.043 0.005 -0.043 -0.018V0.25h0.1c0.022 0 0.033 0.027 0.018 0.043l-0.018 0.018a0.15 0.15 0 0 0 0.209 -0.007 0.15 0.15 0 0 0 0.041 -0.083 0.025 0.025 0 0 1 0.028 -0.021zM0.288 0.02a0.2 0.2 0 0 1 0.049 0.033l0.021 -0.021c0.016 -0.016 0.043 -0.005 0.043 0.018V0.15h-0.1c-0.022 0 -0.033 -0.027 -0.018 -0.043l0.018 -0.018a0.15 0.15 0 0 0 -0.25 0.09 0.025 0.025 0 1 1 -0.05 -0.007A0.2 0.2 0 0 1 0.288 0.02"/>
          </svg>
        </button>
      }

      <button class="actionButton" [disabled]="isSearchDisabled()" (click)="sendMessage()">
        <svg xmlns="http://www.w3.org/2000/svg" width="1.25rem" height="1.25rem" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"></line>
          <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
        </svg>
      </button>
    </div>
  </div>
</div>
